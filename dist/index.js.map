{"version":3,"file":"index.js","sources":["../src/Components/BackgroundObject.jsx","../src/Components/Router.jsx"],"sourcesContent":["import React, { Component } from 'react';\r\nimport styled from '@emotion/styled';\r\n\r\nconst BgObj = styled.div`\r\n    position: absolute;\r\n    transition-property: all;\r\n    transition-timing-function: ease-in-out;\r\n    transition-duration: ${props => props.TransitionDuration}s;\r\n`;\r\n\r\nexport default class BackgroundObject extends Component {\r\n\r\n    render() {\r\n        return (\r\n            <BgObj\r\n                style={ this.props.style }\r\n                TransitionDuration={ this.props.TransitionDuration }\r\n            />\r\n        );\r\n    }\r\n}","import React, { Component, Fragment } from 'react';\r\nimport BackgroundObject from './BackgroundObject';\r\n\r\nexport default class Index extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            CurrentPageId: null,\r\n            CurrentPage: null,\r\n            BackgroundsData: this.convertBgObjsToBgData(props.BackgroundObjects),\r\n            PagesData: props.Pages\r\n        };\r\n    }\r\n\r\n    convertBgObjsToBgData = (p) => {\r\n        const data = [];\r\n\r\n        p.forEach((e) => {\r\n            data.push({\r\n                Style: e\r\n            });\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.checkPageChange();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this.checkPageChange();\r\n    }\r\n\r\n    getBackgroundComponents = () => {\r\n        return this.state.BackgroundsData.map((e, i) => {\r\n            return (\r\n                <BackgroundObject\r\n                    key={ \"Router_BackgrounObjects_\" + i }\r\n                    style={ e.Style }\r\n                    TransitionDuration={ e.TransitionDuration }\r\n                />\r\n            );\r\n        });\r\n    }\r\n\r\n    checkPageChange = () => {\r\n        if(this.props.Pageid != this.state.CurrentPageId) {\r\n            this.changePage(this.props.Pageid);\r\n        }\r\n    }\r\n\r\n    changePage = (newid) => {\r\n\r\n        const newpage = this.state.PagesData[newid];\r\n        const newBgData = this.state.BackgroundsData;\r\n\r\n        newpage.BackgroundData.forEach((e) => {\r\n            newBgData[e.Id].Style = {...newBgData[e.Id].Style, ...e.TargetStyle};\r\n            newBgData[e.Id].TransitionDuration = e.Duration;\r\n        });\r\n\r\n        this.setState({\r\n            BackgroundsData: newBgData,\r\n            CurrentPage: newpage.Foreground,\r\n            CurrentPageId: newid\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Fragment>\r\n                { this.getBackgroundComponents() }\r\n                { this.state.CurrentPage }\r\n            </Fragment>\r\n        );\r\n    }\r\n}"],"names":["BgObj","styled","div","props","TransitionDuration","BackgroundObject","render","React","style","Component","Index","convertBgObjsToBgData","p","data","forEach","e","push","Style","getBackgroundComponents","state","BackgroundsData","map","i","checkPageChange","Pageid","CurrentPageId","changePage","newid","newpage","PagesData","newBgData","BackgroundData","Id","TargetStyle","Duration","setState","CurrentPage","Foreground","BackgroundObjects","Pages","componentDidMount","componentDidUpdate","Fragment"],"mappings":"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"}